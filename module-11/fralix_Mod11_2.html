<!-- 
  Paul Fralix 10/5/2025
  CSD 340 Web Development with HTML and CSS
  Assignment 11.2: JavaScript - Part 3
-->


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CSD 340 Web Development with HTML and CSS</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 2em;
      background-color: #f4f4f9;
    }
    h1 {
      color: #333;
    }
    .container {
      max-width: 600px;
      margin: auto;
      padding: 1em;
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    input[type="text"], select {
      width: 85%;
      padding: 10px;
      margin-bottom: 1em;
      font-size: 1em;
      box-sizing: border-box;
      border: 2px solid #ccc;
      border-radius: 6px;
    }
    input[type="text"]:focus, select:focus {
      border-color: #0077cc;
      outline: none;
    }
    button {
      margin-right: 1em;
      margin-bottom: 1em;
      padding: 0.5em 1em;
      font-size: 1em;
      cursor: pointer;
      border: none;
      border-radius: 6px;
      background-color: #0077cc;
      color: white;
    }
    button:hover {
      background-color: #005fa3;
    }
    #output {
      margin-top: 1em;
      padding: 0.5em;
      background-color: #eef;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Assignment 11.2: JavaScript - Part 3</h1>
    <p>Enter a task below and click Add to add task to list. Click Display to display list. Click Delete Last Entry to remove last entered item. Click Delete Selected Item to delete item selected in drop down.</p>

    <input type="text" id="taskInput" placeholder="Enter a task...">
    <select id="deleteSelector">
      <option value="">-- Select item to delete --</option>
    </select>

    <div>
      <button onclick="addTask()">Add</button>
      <button onclick="deleteLastTask()">Delete Last Entry</button>
      <button onclick="deleteSelectedTask()">Delete Selected Item</button>
      <button onclick="displayTasks()">Display</button>
    </div>

    <div id="output"></div>
  </div>

  <script>
    const tasks = [];

    function addTask() {
      const input = document.getElementById("taskInput").value.trim();
      if (input !== "") {
        tasks.push(input);
        alert(`Added "${input}" at position ${tasks.length}`);
        document.getElementById("taskInput").value = "";
        updateDeleteSelector();
      } else {
        alert("Please enter a task before adding.");
      }
    }

    function deleteLastTask() {
      if (tasks.length > 0) {
        const removed = tasks.pop();
        alert(`Deleted last entry: "${removed}"`);
        updateDeleteSelector();
        displayTasks();
      } else {
        alert("No tasks to delete.");
      }
    }

    function deleteSelectedTask() {
      const selector = document.getElementById("deleteSelector");
      const index = parseInt(selector.value);
      if (!isNaN(index)) {
        const removed = tasks.splice(index, 1);
        alert(`Deleted: "${removed[0]}"`);
        updateDeleteSelector();
        displayTasks();
      } else {
        alert("Please select a valid item to delete.");
      }
    }

    function displayTasks() {
      const outputDiv = document.getElementById("output");
      if (tasks.length === 0) {
        outputDiv.innerHTML = "<p>No tasks in the list.</p>";
      } else {
        let listHTML = "<ol>";
        for (let i = 0; i < tasks.length; i++) {
          listHTML += `<li>${tasks[i]}</li>`;
        }
        listHTML += "</ol>";
        outputDiv.innerHTML = listHTML;
      }
      updateDeleteSelector();
    }

    function updateDeleteSelector() {
      const selector = document.getElementById("deleteSelector");
      selector.innerHTML = '<option value="">-- Select item to delete --</option>';
      tasks.forEach((task, index) => {
        const option = document.createElement("option");
        option.value = index;
        option.text = `${index + 1}. ${task}`;
        selector.appendChild(option);
      });
    }
  </script>
</body>
</html>